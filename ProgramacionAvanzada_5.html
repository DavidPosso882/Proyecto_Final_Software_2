<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Programaci√≥n Avanzada | Gu√≠as y material de clase del espacio acad√©mico Programaci√≥n Avanzada.</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Programaci√≥n Avanzada" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Gu√≠as y material de clase del espacio acad√©mico Programaci√≥n Avanzada." />
<meta property="og:description" content="Gu√≠as y material de clase del espacio acad√©mico Programaci√≥n Avanzada." />
<link rel="canonical" href="https://caflorezvi.github.io/guias-programacion-avanzada/4.apis-rest.html" />
<meta property="og:url" content="https://caflorezvi.github.io/guias-programacion-avanzada/4.apis-rest.html" />
<meta property="og:site_name" content="Programaci√≥n Avanzada" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Programaci√≥n Avanzada" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Gu√≠as y material de clase del espacio acad√©mico Programaci√≥n Avanzada.","headline":"Programaci√≥n Avanzada","url":"https://caflorezvi.github.io/guias-programacion-avanzada/4.apis-rest.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/guias-programacion-avanzada/assets/css/style.css?v=c3259212e988779fc0ba117e46f85e317e455832">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/guias-programacion-avanzada/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="https://caflorezvi.github.io/guias-programacion-avanzada/">Programaci√≥n Avanzada</a></h1>
      

      <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Programa de Ingenier√≠a de Sistemas y Computaci√≥n
Universidad del Quind√≠o

T√≠tulo: Dise√±o de APIs REST
Duraci√≥n estimada: 120
Docentes: Carlos Andr√©s Florez, Christian Andr√©s Candela
Gu√≠a: 04
</code></pre></div></div>

<h1 id="dise√±o-de-apis-rest">Dise√±o de APIs REST</h1>

<h2 id="-objetivo">üéØ Objetivo</h2>

<p>El objetivo de esta gu√≠a es proporcionar una comprensi√≥n clara y detallada sobre c√≥mo dise√±ar y documentar APIs utilizando <strong>OpenAPI</strong>, y c√≥mo integrar estas especificaciones en un proyecto Spring Boot. Adem√°s, se busca que los estudiantes adquieran habilidades pr√°cticas para dise√±ar operaciones CRUD (Crear, Leer, Actualizar, Eliminar) y mecanismos de paginaci√≥n, utilizando OpenAPI como herramienta de documentaci√≥n y generaci√≥n de c√≥digo.</p>

<hr />

<h2 id="conceptos-b√°sicos">Conceptos B√°sicos</h2>

<p>Antes de profundizar en la configuraci√≥n de un proyecto OpenAPI, es importante entender algunos conceptos fundamentales:</p>

<ol>
  <li>
    <p><strong>OpenAPI:</strong><br />
Es una especificaci√≥n est√°ndar para describir APIs REST. Permite definir endpoints, m√©todos, par√°metros, respuestas y m√°s, facilitando la documentaci√≥n y el consumo de APIs.</p>
  </li>
  <li>
    <p><strong>YAML y JSON:</strong><br />
OpenAPI permite definir las especificaciones en formato YAML o JSON. Ambos formatos son ampliamente utilizados y f√°ciles de leer.</p>
  </li>
  <li>
    <p><strong>Swagger:</strong><br />
Herramienta que permite visualizar y probar APIs documentadas con OpenAPI. Tambi√©n puede generar c√≥digo autom√°ticamente.</p>
  </li>
  <li>
    <p><strong>Spring Boot:</strong><br />
Framework que simplifica el desarrollo de aplicaciones web en Java. Proporciona utilidades y librer√≠as preconfiguradas que facilitan la creaci√≥n de APIs REST.</p>
  </li>
</ol>

<hr />

<h2 id="contextualizaci√≥n-te√≥rica">Contextualizaci√≥n Te√≥rica</h2>

<p>Una <strong>API REST</strong> (Representational State Transfer) es una interfaz que sigue las reglas de la arquitectura REST, permitiendo que diferentes sistemas se comuniquen de forma estandarizada.</p>

<p>En t√©rminos simples, una API define <strong>c√≥mo</strong> deben interactuar distintas aplicaciones o servicios sin exponer su c√≥digo fuente. Esto facilita el desarrollo, ya que el frontend (web, m√≥vil, escritorio, etc.) puede comunicarse con el backend de forma estructurada y segura.</p>

<p>En nuestro caso, el backend est√° construido en <strong>Java con Spring Boot</strong> y la informaci√≥n se transfiere mediante el <strong>protocolo HTTP</strong>, generalmente usando el formato <strong>JSON</strong> por su simplicidad, legibilidad e independencia del lenguaje de programaci√≥n (aunque tambi√©n se pueden usar HTML, XML o texto plano).</p>

<p>HTTP define m√©todos que indican al servidor qu√© acci√≥n realizar. Estas acciones se aplican <strong>sobre rutas (endpoints)</strong>, que son las direcciones o URLs que representan los recursos de la API. Cada recurso se identifica mediante una ruta √∫nica, y los m√©todos indican el <strong>tipo de operaci√≥n</strong> que se desea realizar sobre ese recurso, ejemplo:</p>

<ul>
  <li><strong>GET</strong> <code class="language-plaintext highlighter-rouge">/users</code> ‚Üí Obtener la lista de usuarios.</li>
  <li><strong>GET</strong> <code class="language-plaintext highlighter-rouge">/users/1</code> ‚Üí Obtener el usuario con ID 1.</li>
  <li><strong>POST</strong> <code class="language-plaintext highlighter-rouge">/users</code> ‚Üí Crear un nuevo usuario.</li>
  <li><strong>PUT</strong> <code class="language-plaintext highlighter-rouge">/users/1</code> ‚Üí Actualizar todos los datos del usuario con ID 1.</li>
  <li><strong>PATCH</strong> <code class="language-plaintext highlighter-rouge">/users/1</code> ‚Üí Actualizar parcialmente los datos de ese usuario.</li>
  <li><strong>DELETE</strong> <code class="language-plaintext highlighter-rouge">/users/1</code> ‚Üí Eliminar el usuario con ID 1.</li>
</ul>

<p>Las respuestas del servidor incluyen c√≥digos HTTP para indicar el resultado, esto es √∫til para que el cliente sepa si la solicitud fue exitosa o si hubo alg√∫n error. Algunos c√≥digos comunes son:</p>

<ul>
  <li><strong>200 OK</strong> ‚Üí √âxito.</li>
  <li><strong>201 Created</strong> ‚Üí Recurso creado.</li>
  <li><strong>400 Bad Request</strong> ‚Üí Solicitud inv√°lida.</li>
  <li><strong>401 Unauthorized</strong> ‚Üí Requiere autenticaci√≥n.</li>
  <li><strong>404 Not Found</strong> ‚Üí Recurso no encontrado.</li>
  <li><strong>500 Internal Server Error</strong> ‚Üí Error interno del servidor.</li>
</ul>

<p>Cabe destacar que el uso adecuado de los m√©todos HTTP y los c√≥digos de estado es fundamental para el dise√±o de APIs REST efectivas y f√°ciles de usar.</p>

<p>Siguiendo las buenas pr√°cticas de <strong>OpenAPI</strong>, es importante <strong>documentar</strong> de forma clara los c√≥digos de respuesta de la API. Esto ayuda a que los desarrolladores entiendan r√°pidamente c√≥mo manejar cada respuesta y sus posibles errores.</p>

<p>Tambi√©n es esencial implementar una gesti√≥n de errores adecuada, con mensajes descriptivos y consistentes que faciliten la depuraci√≥n y contribuyan a mejorar continuamente la API.</p>

<p><strong>Referencia:</strong></p>
<ul>
  <li>Lista completa de m√©todos HTTP: <a href="https://developer.mozilla.org/es/docs/Web/HTTP/Methods">M√©todos HTTP</a></li>
  <li>Explicaci√≥n m√°s amplia sobre REST: <a href="https://www.redhat.com/es/topics/api/what-is-a-rest-api">¬øQu√© es una API REST?</a></li>
</ul>

<h3 id="herramientas-de-documentaci√≥n-y-generaci√≥n-de-c√≥digo">Herramientas de Documentaci√≥n y Generaci√≥n de C√≥digo</h3>

<p>Una herramienta de documentaci√≥n de APIs como OpenAPI permite definir de manera estructurada c√≥mo funciona una API, incluyendo sus endpoints, m√©todos, par√°metros, respuestas y esquemas de datos. Esto facilita la colaboraci√≥n entre equipos y la generaci√≥n autom√°tica de c√≥digo.</p>

<h4 id="openapi">OpenAPI</h4>
<p>OpenAPI es una especificaci√≥n que permite describir APIs REST de manera estandarizada. Utiliza un archivo en formato YAML o JSON para definir la estructura de la API.</p>

<ul>
  <li><strong>Archivo <code class="language-plaintext highlighter-rouge">openapi.yaml</code> o <code class="language-plaintext highlighter-rouge">openapi.json</code>:</strong> Define la estructura de la API, incluyendo endpoints, m√©todos, par√°metros, respuestas y esquemas de datos.</li>
  <li><strong>Swagger UI:</strong> Herramienta que permite visualizar y probar la API documentada con OpenAPI.</li>
</ul>

<h4 id="spring-boot">Spring Boot</h4>
<p>Spring Boot es un framework que simplifica el desarrollo de aplicaciones web en Java. Proporciona utilidades y librer√≠as preconfiguradas que facilitan la creaci√≥n de APIs REST.</p>

<p><strong>Referencia:</strong></p>
<ul>
  <li>OpenAPI Documentation: <a href="https://swagger.io/specification/">OpenAPI Specification</a>.</li>
  <li>Spring Boot Documentation: <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/">Spring Boot Reference</a>.</li>
</ul>

<h3 id="herramientas-clave">Herramientas Clave</h3>

<ol>
  <li>
    <p><strong>JDK (Java Development Kit):</strong><br />
Conjunto de programas y librer√≠as necesarias para el desarrollo de aplicaciones Java. Para este curso, se recomienda el uso de <strong>Java JDK 21</strong>, que es compatible con las √∫ltimas versiones de Spring Boot.</p>
  </li>
  <li>
    <p><strong>IntelliJ IDEA Ultimate:</strong><br />
IDE moderno que soporta m√∫ltiples lenguajes de programaci√≥n y ofrece herramientas avanzadas para el desarrollo de aplicaciones web, incluyendo integraci√≥n con <strong>Git</strong>, <strong>Java</strong>, y <strong>Spring Boot</strong>.</p>
  </li>
  <li>
    <p><strong>GIT:</strong><br />
Sistema de control de versiones distribuido que permite gestionar cambios en el c√≥digo fuente de manera eficiente.</p>
  </li>
</ol>

<hr />

<h2 id="precauciones-y-recomendaciones">Precauciones y Recomendaciones</h2>

<ol>
  <li>
    <p><strong>Verificaci√≥n del JDK:</strong><br />
Aseg√∫rese de tener instalado el JDK 21, ya que es compatible con las √∫ltimas versiones de Spring Boot.</p>
  </li>
  <li>
    <p><strong>Actualizaci√≥n de Dependencias:</strong><br />
Siempre actualice las dependencias despu√©s de modificar el archivo <code class="language-plaintext highlighter-rouge">build.gradle</code> para que las configuraciones se apliquen correctamente.</p>
  </li>
</ol>

<hr />

<h2 id="procedimiento">Procedimiento</h2>

<h3 id="1-use-su-proyecto-creado-en-la-guia-anterior">1. Use su proyecto creado en la guia anterior</h3>
<p>Abra IntelliJ IDEA y cargue el proyecto creado en la gu√≠a 3.</p>

<h3 id="2-configuraci√≥n-del-archivo-buildgradle">2. Configuraci√≥n del Archivo <code class="language-plaintext highlighter-rouge">build.gradle</code></h3>
<p>Modifique el archivo <code class="language-plaintext highlighter-rouge">build.gradle</code> para incluir una nueva dependencia dentro de la secci√≥n <code class="language-plaintext highlighter-rouge">dependencies</code>:</p>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">implementation</span> <span class="s1">'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.8.9'</span>
</code></pre></div></div>

<blockquote>
  <p><strong>‚ö†Ô∏è Nota:</strong> No olvide sincronizar Gradle despu√©s de realizar cambios en el archivo <code class="language-plaintext highlighter-rouge">build.gradle</code>.</p>
</blockquote>

<h3 id="3-creaci√≥n-del-archivo-openapi">3. Creaci√≥n del Archivo OpenAPI</h3>
<p>Cree un archivo <code class="language-plaintext highlighter-rouge">openapi.yaml</code> en la carpeta <code class="language-plaintext highlighter-rouge">src/main/resources</code> con el siguiente contenido:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">API de Usuarios</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">1.0.0</span>
<span class="na">paths</span><span class="pi">:</span>
  <span class="na">/users</span><span class="pi">:</span>
    <span class="na">post</span><span class="pi">:</span>
      <span class="na">summary</span><span class="pi">:</span> <span class="s">Registrar un nuevo usuario</span>
      <span class="na">operationId</span><span class="pi">:</span> <span class="s">registerUser</span>
      <span class="na">requestBody</span><span class="pi">:</span>
        <span class="na">content</span><span class="pi">:</span>
          <span class="na">application/json</span><span class="pi">:</span>
            <span class="na">schema</span><span class="pi">:</span>
              <span class="na">$ref</span><span class="pi">:</span> <span class="s1">'</span><span class="s">#/components/schemas/UserRegistration'</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s1">'</span><span class="s">201'</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Usuario registrado exitosamente</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">$ref</span><span class="pi">:</span> <span class="s1">'</span><span class="s">#/components/schemas/UserResponse'</span>
      <span class="err">  </span><span class="s1">'</span><span class="s">400'</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Datos de entrada inv√°lidos</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">array</span>
                <span class="na">items</span><span class="pi">:</span>
                  <span class="na">$ref</span><span class="pi">:</span> <span class="s1">'</span><span class="s">#/components/schemas/ErrorResponse'</span>
      <span class="err">  </span><span class="s1">'</span><span class="s">409'</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Correo ya registrado</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">$ref</span><span class="pi">:</span> <span class="s1">'</span><span class="s">#/components/schemas/ErrorResponse'</span>
      <span class="err">  </span><span class="s1">'</span><span class="s">500'</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Error interno del servidor</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">$ref</span><span class="pi">:</span> <span class="s1">'</span><span class="s">#/components/schemas/ErrorResponse'</span>
      <span class="err">  </span><span class="s1">'</span><span class="s">503'</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Servicio no disponible</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">$ref</span><span class="pi">:</span> <span class="s1">'</span><span class="s">#/components/schemas/ErrorResponse'</span>
  <span class="s">/users/{id}/password</span><span class="err">:</span>
    <span class="na">patch</span><span class="pi">:</span>
      <span class="na">summary</span><span class="pi">:</span> <span class="s">Actualizar la contrase√±a de un usuario</span>
      <span class="na">operationId</span><span class="pi">:</span> <span class="s">updatePasswordByUserId</span>
      <span class="na">security</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">BearerAuth</span><span class="pi">:</span> <span class="pi">[]</span>
      <span class="na">parameters</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">id</span>
          <span class="na">in</span><span class="pi">:</span> <span class="s">path</span>
          <span class="na">required</span><span class="pi">:</span> <span class="no">true</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
      <span class="na">requestBody</span><span class="pi">:</span>
        <span class="na">content</span><span class="pi">:</span>
          <span class="na">application/json</span><span class="pi">:</span>
            <span class="na">schema</span><span class="pi">:</span>
              <span class="na">$ref</span><span class="pi">:</span> <span class="s1">'</span><span class="s">#/components/schemas/PasswordUpdate'</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s1">'</span><span class="s">200'</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Contrase√±a actualizada exitosamente</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">$ref</span><span class="pi">:</span> <span class="s1">'</span><span class="s">#/components/schemas/SuccessResponse'</span>
      <span class="err">  </span><span class="s1">'</span><span class="s">400'</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Datos de entrada inv√°lidos</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">array</span>
                <span class="na">items</span><span class="pi">:</span>
                  <span class="na">$ref</span><span class="pi">:</span> <span class="s1">'</span><span class="s">#/components/schemas/ErrorResponse'</span>
      <span class="err">  </span><span class="s1">'</span><span class="s">401'</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">No autorizado</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">$ref</span><span class="pi">:</span> <span class="s1">'</span><span class="s">#/components/schemas/ErrorResponse'</span>
      <span class="err">  </span><span class="s1">'</span><span class="s">403'</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Prohibido (sin permisos suficientes)</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">$ref</span><span class="pi">:</span> <span class="s1">'</span><span class="s">#/components/schemas/ErrorResponse'</span>
      <span class="err">  </span><span class="s1">'</span><span class="s">404'</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Usuario no encontrado</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">$ref</span><span class="pi">:</span> <span class="s1">'</span><span class="s">#/components/schemas/ErrorResponse'</span>
      <span class="err">  </span><span class="s1">'</span><span class="s">500'</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Error interno del servidor</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">$ref</span><span class="pi">:</span> <span class="s1">'</span><span class="s">#/components/schemas/ErrorResponse'</span>
      <span class="err">  </span><span class="s1">'</span><span class="s">503'</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Servicio no disponible</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">$ref</span><span class="pi">:</span> <span class="s1">'</span><span class="s">#/components/schemas/ErrorResponse'</span>
<span class="na">components</span><span class="pi">:</span>
  <span class="na">schemas</span><span class="pi">:</span>
    <span class="na">UserRegistration</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
      <span class="na">properties</span><span class="pi">:</span>
        <span class="na">email</span><span class="pi">:</span>
          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
          <span class="na">format</span><span class="pi">:</span> <span class="s">email</span>
        <span class="na">password</span><span class="pi">:</span>
          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
          <span class="na">minLength</span><span class="pi">:</span> <span class="m">8</span>
          <span class="na">pattern</span><span class="pi">:</span> <span class="s2">"</span><span class="s">^(?=.*</span><span class="se">\\</span><span class="s">d)(?=.*[a-z])(?=.*[A-Z]).*$"</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">La contrase√±a del usuario (debe contener al menos un d√≠gito, una letra min√∫scula y una letra may√∫scula)</span>
        <span class="na">fullName</span><span class="pi">:</span>
          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
          <span class="na">maxLength</span><span class="pi">:</span> <span class="m">100</span>
        <span class="na">dateBirth</span><span class="pi">:</span>
          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
          <span class="na">format</span><span class="pi">:</span> <span class="s">date</span>
          <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">1990-01-01"</span>
        <span class="na">role</span><span class="pi">:</span>
          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
          <span class="na">enum</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">user</span>
            <span class="pi">-</span> <span class="s">admin</span>
          <span class="na">default</span><span class="pi">:</span> <span class="s">user</span>
      <span class="na">required</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">fullName</span>
        <span class="pi">-</span> <span class="s">email</span>
        <span class="pi">-</span> <span class="s">password</span>
    <span class="na">PasswordUpdate</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
      <span class="na">required</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">currentPassword</span>
        <span class="pi">-</span> <span class="s">newPassword</span>
      <span class="na">properties</span><span class="pi">:</span>
        <span class="na">currentPassword</span><span class="pi">:</span>
          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Contrase√±a actual del usuario</span>
        <span class="na">newPassword</span><span class="pi">:</span>
          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
          <span class="na">minLength</span><span class="pi">:</span> <span class="m">8</span>
          <span class="na">pattern</span><span class="pi">:</span> <span class="s2">"</span><span class="s">^(?=.*</span><span class="se">\\</span><span class="s">d)(?=.*[a-z])(?=.*[A-Z]).*$"</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Nueva contrase√±a del usuario (debe contener al menos un d√≠gito, una letra min√∫scula y una letra may√∫scula)</span>
    <span class="na">SuccessResponse</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
      <span class="na">properties</span><span class="pi">:</span>
        <span class="na">message</span><span class="pi">:</span>
          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
          <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Contrase√±a</span><span class="nv"> </span><span class="s">actualizada</span><span class="nv"> </span><span class="s">exitosamente"</span>
      <span class="na">required</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">message</span>
    <span class="na">UserResponse</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
      <span class="na">properties</span><span class="pi">:</span>
        <span class="na">id</span><span class="pi">:</span>
          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
        <span class="na">email</span><span class="pi">:</span>
          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
        <span class="na">fullName</span><span class="pi">:</span>
          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
        <span class="na">dateBirth</span><span class="pi">:</span>
          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
          <span class="na">format</span><span class="pi">:</span> <span class="s">date</span>
        <span class="na">role</span><span class="pi">:</span>
          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
      <span class="na">required</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">id</span>
        <span class="pi">-</span> <span class="s">email</span>
        <span class="pi">-</span> <span class="s">fullName</span>
        <span class="pi">-</span> <span class="s">role</span>
    <span class="na">ErrorResponse</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
      <span class="na">properties</span><span class="pi">:</span>
        <span class="na">error</span><span class="pi">:</span>
          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
        <span class="na">message</span><span class="pi">:</span>
          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
      <span class="na">required</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">error</span>
        <span class="pi">-</span> <span class="s">message</span>
  <span class="na">securitySchemes</span><span class="pi">:</span>
    <span class="na">BearerAuth</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">http</span>
      <span class="na">scheme</span><span class="pi">:</span> <span class="s">bearer</span>
      <span class="na">bearerFormat</span><span class="pi">:</span> <span class="s">JWT</span>
</code></pre></div></div>

<h3 id="4-visualizaci√≥n-del-archivo-openapi-en-intellij-idea">4. Visualizaci√≥n del Archivo OpenAPI en IntelliJ IDEA</h3>
<ul>
  <li>Abra el archivo <code class="language-plaintext highlighter-rouge">openapi.yaml</code> en IntelliJ IDEA.</li>
  <li>IntelliJ IDEA tiene soporte integrado para visualizar archivos OpenAPI. Puede usar la vista previa para ver la estructura de la API.</li>
</ul>

<h3 id="5-analice-el-archivo-openapi">5. Analice el Archivo OpenAPI</h3>
<ul>
  <li>Observe las rutas definidas en la secci√≥n <code class="language-plaintext highlighter-rouge">paths</code> del archivo <code class="language-plaintext highlighter-rouge">openapi.yaml</code>, recuerde no incluir verbos directamente en la ruta ya que el <strong>m√©todo HTTP</strong> ya lo indica.</li>
  <li>Revise los esquemas de datos definidos en la secci√≥n <code class="language-plaintext highlighter-rouge">components/schemas</code> del archivo <code class="language-plaintext highlighter-rouge">openapi.yaml</code>.</li>
  <li>Aseg√∫rese de que todos los modelos de datos necesarios est√©n correctamente definidos y que incluyan las propiedades requeridas.</li>
  <li>Verifique que los tipos de datos y las restricciones (como <code class="language-plaintext highlighter-rouge">minLength</code>, <code class="language-plaintext highlighter-rouge">maxLength</code>, <code class="language-plaintext highlighter-rouge">pattern</code>, etc.) sean apropiados y est√©n bien documentados.</li>
</ul>

<h3 id="6-investigar-c√≥digos-de-estado-http-y-aspectos-de-seguridad">6. Investigar c√≥digos de estado HTTP y aspectos de seguridad</h3>

<ul>
  <li>Investigue los c√≥digos de estado HTTP m√°s comunes y su significado (por ejemplo, <code class="language-plaintext highlighter-rouge">200 OK</code>, <code class="language-plaintext highlighter-rouge">404 Not Found</code>, <code class="language-plaintext highlighter-rouge">500 Internal Server Error</code>, etc.).</li>
  <li>Considere c√≥mo manejar los errores en su API y qu√© informaci√≥n incluir en las respuestas de error.</li>
  <li>Investigue sobre la seguridad en las APIs REST, incluyendo la autenticaci√≥n y autorizaci√≥n (por ejemplo, usando JWT).</li>
</ul>

<hr />

<h2 id="reto-pr√°ctica">Reto pr√°ctica</h2>

<h3 id="dise√±o-de-operaciones-crud-y-paginaci√≥n">Dise√±o de Operaciones CRUD y Paginaci√≥n</h3>

<p>Dise√±e las siguientes operaciones utilizando OpenAPI:</p>

<ol>
  <li><strong>Borrar Usuario:</strong>
    <ul>
      <li>M√©todo: <code class="language-plaintext highlighter-rouge">DELETE</code></li>
      <li>Ruta: <code class="language-plaintext highlighter-rouge">/users/{id}</code></li>
      <li>Respuestas: <code class="language-plaintext highlighter-rouge">200</code>, <code class="language-plaintext highlighter-rouge">401</code>, <code class="language-plaintext highlighter-rouge">403</code>, <code class="language-plaintext highlighter-rouge">404</code>, <code class="language-plaintext highlighter-rouge">500</code>, <code class="language-plaintext highlighter-rouge">503</code></li>
    </ul>
  </li>
  <li><strong>Consultar un Usuario:</strong>
    <ul>
      <li>M√©todo: <code class="language-plaintext highlighter-rouge">GET</code></li>
      <li>Ruta: <code class="language-plaintext highlighter-rouge">/users/{id}</code></li>
      <li>Respuestas: <code class="language-plaintext highlighter-rouge">200</code>, <code class="language-plaintext highlighter-rouge">401</code>, <code class="language-plaintext highlighter-rouge">403</code>, <code class="language-plaintext highlighter-rouge">404</code>, <code class="language-plaintext highlighter-rouge">500</code>, <code class="language-plaintext highlighter-rouge">503</code></li>
    </ul>
  </li>
  <li><strong>Actualizar un Usuario:</strong>
    <ul>
      <li>M√©todo: <code class="language-plaintext highlighter-rouge">PUT</code></li>
      <li>Ruta: <code class="language-plaintext highlighter-rouge">/users/{id}</code></li>
      <li>Respuestas: <code class="language-plaintext highlighter-rouge">200</code>, <code class="language-plaintext highlighter-rouge">400</code>, <code class="language-plaintext highlighter-rouge">401</code>, <code class="language-plaintext highlighter-rouge">403</code>, <code class="language-plaintext highlighter-rouge">404</code>, <code class="language-plaintext highlighter-rouge">409</code>, <code class="language-plaintext highlighter-rouge">500</code>, <code class="language-plaintext highlighter-rouge">503</code></li>
    </ul>
  </li>
  <li><strong>Consultar M√∫ltiples Usuarios (Paginaci√≥n):</strong>
    <ul>
      <li>M√©todo: <code class="language-plaintext highlighter-rouge">GET</code></li>
      <li>Ruta: <code class="language-plaintext highlighter-rouge">/users</code></li>
      <li>Par√°metros: <code class="language-plaintext highlighter-rouge">page</code>, <code class="language-plaintext highlighter-rouge">size</code></li>
      <li>Respuestas: <code class="language-plaintext highlighter-rouge">200</code>, <code class="language-plaintext highlighter-rouge">401</code>, <code class="language-plaintext highlighter-rouge">403</code>, <code class="language-plaintext highlighter-rouge">500</code>, <code class="language-plaintext highlighter-rouge">503</code></li>
    </ul>
  </li>
</ol>

<h3 id="requisitos-de-la-actividad">Requisitos de la Actividad</h3>
<ul>
  <li>Los estudiantes deben definir las operaciones en el archivo <code class="language-plaintext highlighter-rouge">openapi.yaml</code>.</li>
  <li>Deben incluir esquemas de datos, respuestas y c√≥digos de estado.</li>
</ul>

<hr />

<h2 id="evaluaci√≥n-o-resultado">Evaluaci√≥n o Resultado</h2>

<p>Se espera que los estudiantes completen la configuraci√≥n de un proyecto b√°sico utilizando OpenAPI y Spring Boot. Al finalizar, deben ser capaces de:</p>

<ol>
  <li>Crear un archivo OpenAPI que defina las operaciones CRUD y paginaci√≥n.</li>
  <li>Investigar c√≥mo generar el c√≥digo base en Spring Boot utilizando Swagger Codegen a partir del archivo OpenAPI.</li>
</ol>

<hr />

<h2 id="pr√≥xima-actividad">Pr√≥xima Actividad</h2>

<p>Para prepararse para las pr√≥ximas clases, los estudiantes deben investigar sobre:</p>

<ol>
  <li><strong>Servicios REST en Spring</strong> (<code class="language-plaintext highlighter-rouge">@PostMapping</code>, <code class="language-plaintext highlighter-rouge">@PatchMapping</code>, etc)</li>
  <li><strong>Bean Validation</strong></li>
  <li><strong>Controladores REST</strong> (<code class="language-plaintext highlighter-rouge">@RestController</code>)</li>
</ol>

<hr />

<h2 id="referencias-bibliogr√°ficas">Referencias Bibliogr√°ficas</h2>

<ol>
  <li>OpenAPI Documentation: <a href="https://swagger.io/specification/">OpenAPI Specification</a>.</li>
  <li>Spring Boot Documentation: <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/">Spring Boot Reference</a>.</li>
  <li>OpenAPI Generator: <a href="https://openapi-generator.tech">OpenAPI Generator</a>.</li>
  <li>IntelliJ IDEA Documentation: <a href="https://www.jetbrains.com/idea/documentation/">JetBrains Docs</a>.</li>
</ol>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
